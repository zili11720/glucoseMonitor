<!DOCTYPE HTML>
<html>
  <%- include('../partials/head') %>
  <%- include('../partials/header') %>

  <!-- Main -->
  <article id="main">
    <header>
      <%- include('../partials/message') %>
      <h2>Need a consultation?</h2>
      <p class="white-text">Contact one of our doctors for any help:</p>
    </header>
    <section class="wrapper style5">
      <div class="inner">
        <div class="form-container">
          <form id="consultation-form">
            <div class="form-group">
              <label for="topic">Select Topic:</label>
              <select id="topic" name="topic" required>
                <option value="" disabled selected>Select a topic</option>
                <option value="bloodtest">Blood Test</option>
                <option value="personal_diet">Personal Diet</option>
                <option value="food_sensitivity">Food Sensitivity</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label for="phone">Phone Number:</label>
              <input type="tel" id="phone" name="phone" required placeholder="Enter your phone number">
            </div>

            <div class="form-group">
              <label for="email">Email:</label>
              <input type="email" id="email" name="email" required placeholder="Enter your email address">
            </div>

            <div class="form-group">
              <label for="message">Message:</label>
              <textarea id="message" name="message" rows="4" required placeholder="Enter your message here"></textarea>
            </div>

            <div class="form-group">
              <button type="submit" class="button fit primary">Send Consultation Request</button>
            </div>
          </form>
        </div>
      </div>
    </section>
  </article>

  <!-- Thank You Modal Popup -->
  <div id="thankYouModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <p>Thank you for reaching out! We will get back to you shortly.</p>
    </div>
  </div>

  <%- include('../partials/footer') %>

  <script>
    // JavaScript for displaying thank you modal on form submission
    document.addEventListener("DOMContentLoaded", function() {
      var form = document.getElementById("consultation-form");
      form.onsubmit = function(event) {
        event.preventDefault(); // Prevent actual form submission

        // Show the "Thank You" modal
        var modal = document.getElementById("thankYouModal");
        modal.style.display = "block";

        // Clear form fields (optional)
        form.reset();
      };

      // Close the modal when the 'X' is clicked
      var closeButton = document.querySelector("#thankYouModal .close");
      closeButton.onclick = function() {
        document.getElementById("thankYouModal").style.display = "none";
      };

      // Close the modal when the user clicks outside of it
      window.onclick = function(event) {
        var modal = document.getElementById("thankYouModal");
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };
    });
  </script>
</body>
</html>
